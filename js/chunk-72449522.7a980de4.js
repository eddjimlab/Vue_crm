(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72449522"],{"13d5":function(e,t,r){"use strict";var n=r("23e7"),i=r("d58f").left,o=r("b301");n({target:"Array",proto:!0,forced:o("reduce")},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},6859:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[e._v("Планирование")]),r("h4",[e._v(e._s(e._f("currency")(e.info.bill,"RUB")))])]),e.loading?r("Loader"):e.categories.length?r("section",e._l(e.categories,(function(t){return r("div",{key:t.id},[r("p",[r("strong",[e._v(e._s(t.title)+":")]),e._v(" "+e._s(e._f("currency")(t.spend))+" из "+e._s(e._f("currency")(t.limit))+" ")]),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[r("div",{staticClass:"determinate",class:[t.progressColor],style:{width:t.progressPercent+"%"}})])])})),0):r("p",{staticClass:"center"},[e._v("Категорий пока нет. "),r("router-link",{attrs:{to:"/categories"}},[e._v("Добавить новую категорию")])],1)],1)},i=[],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("d81d"),r("13d5"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("2fa7")),c=r("2f62"),a=r("5bb3");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={metaInfo:function(){return{title:this.$title("CategoryTitle"),meta:[{name:"description",content:"Сайт учета расходов и доходов, с учетом категорий и бюджета, графический анализ, CRM Vue"}]}},name:"plannig",data:function(){return{loading:!0,categories:[]}},computed:u({},Object(c["c"])(["info"])),mounted:function(){var e,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.$store.dispatch("fetchRecords"));case 2:return e=r.sent,r.next=5,regeneratorRuntime.awrap(this.$store.dispatch("fetchCategories"));case 5:t=r.sent,this.categories=t.map((function(t){var r=e.filter((function(e){return e.categoryId===t.id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+=+t.amount,e}),0),n=100*r/t.limit,i=n>100?100:n,o=n<60?"green":n<80?"yellow":n<100?"orange":"red",c=t.limit-r,s="".concat(c<0?"Превышение на":"Осталось"," ").concat(Object(a["a"])(Math.abs(c)));return u({},t,{progressPercent:i,progressColor:o,spend:r,tooltip:s})})),this.loading=!1;case 8:case"end":return r.stop()}}),null,this)}},f=l,p=r("2877"),d=Object(p["a"])(f,n,i,!1,null,null,null);t["default"]=d.exports},d58f:function(e,t,r){var n=r("1c0b"),i=r("7b0b"),o=r("44ad"),c=r("50c4"),a=function(e){return function(t,r,a,s){n(r);var u=i(t),l=o(u),f=c(u.length),p=e?f-1:0,d=e?-1:1;if(a<2)while(1){if(p in l){s=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(s=r(s,l[p],p,u));return s}};e.exports={left:a(!1),right:a(!0)}}}]);
//# sourceMappingURL=chunk-72449522.7a980de4.js.map